import{_ as S,f as U,g as w,r as g,c as a,a as u,b as t,i as p,F as m,m as N,o as n,H as E,e as l,t as h,j as C,w as c,v as k,l as M,k as _,n as B}from"./index-CmOGTKMV.js";const P={key:0,class:"message-errortask"},j={class:"form-content"},q={class:"label"},D=["onUpdate:modelValue"],F={class:"label"},H=["onUpdate:modelValue"],L={class:"label"},O=["onUpdate:modelValue"],A={key:0,class:"message-sucess-2"},I={key:1,class:"message-error-2"},J={__name:"TaskPageEdit",props:{id:String},setup(f){const x=f,i=U([]),y=JSON.parse(localStorage.getItem("user")).id,V=x.id;w(async()=>{const r=(await(await fetch("http://localhost:3000/tasks")).json()).filter(o=>o.id==V.toString()&&o.id_usuario==y);i.push(...r)});const v=g(!1),b=g(!1);async function T(d){for(let e of i)return(await fetch(`http://localhost:3000/tasks/${d}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.nome,prioridade:e.prioridade,descricao:e.descricao})})).ok?v.value=!0:b.value=!0}return(d,e)=>{const r=B("RouterLink");return n(),a(m,null,[u(E),t("main",null,[i.length<=0?(n(),a("p",P,"Essa tarefa não existe, ou foi excluida.")):p("",!0),t("div",j,[(n(!0),a(m,null,N(i,o=>(n(),a(m,null,[t("h1",null,[e[1]||(e[1]=l("Edite a tarefa: ")),t("span",null,h(o.nome),1)]),t("form",{onSubmit:e[0]||(e[0]=C(s=>T(f.id),["prevent"]))},[t("label",q,[e[2]||(e[2]=t("p",null,"Nome:",-1)),c(t("input",{type:"text","onUpdate:modelValue":s=>o.nome=s},null,8,D),[[k,o.nome]])]),t("label",F,[e[4]||(e[4]=t("p",null,"Prioridade:",-1)),c(t("select",{"onUpdate:modelValue":s=>o.prioridade=s,required:""},e[3]||(e[3]=[t("option",null,"Alto",-1),t("option",null,"Médio",-1),t("option",null,"Baixo",-1)]),8,H),[[M,o.prioridade]])]),t("label",L,[e[5]||(e[5]=t("p",null,"Descrição:",-1)),c(t("textarea",{"onUpdate:modelValue":s=>o.descricao=s},null,8,O),[[k,o.descricao]])]),e[6]||(e[6]=t("button",{type:"submit",class:"button-default"},"Enviar",-1))],32),v.value?(n(),a("p",A,[e[8]||(e[8]=l("Tarefa editada com sucesso! ")),u(r,{to:"/dashboard"},{default:_(()=>e[7]||(e[7]=[l("voltar.")])),_:1})])):p("",!0),b.value?(n(),a("p",I,[e[10]||(e[10]=l("Ocorreu um erro ao fazer a edição da aula, ")),u(r,{to:"/dashboard"},{default:_(()=>e[9]||(e[9]=[l("voltar.")])),_:1})])):p("",!0)],64))),256))])])],64)}}},$=S(J,[["__scopeId","data-v-52f3ae7d"]]);export{$ as default};
